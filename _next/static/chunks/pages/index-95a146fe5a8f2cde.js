(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1698)}])},1698:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return d}});var t=r(1844),n=r(5784),l=r(3148),a=r(7460);let u=e=>{let s={"1950's":0,"1960's":0,"1970's":0,"1980's":0,"1990's":0,"2000's":0};for(let r of e){let e=Number(r.year);e>=1950&&e<1960?s["1950's"]+=1:e>=1960&&e<1970?s["1960's"]+=1:e>=1970&&e<1980?s["1970's"]+=1:e>=1980&&e<1990?s["1980's"]+=1:e>=1990&&e<2e3?s["1990's"]+=1:e>=2e3&&(s["2000's"]+=1)}return s},o=e=>{let s={1:0,2:0,3:0,4:0};for(let r of e){let e=Number(r.course);1===e?s[1]+=1:2===e?s[2]+=1:3===e?s[3]+=1:4===e&&(s[4]+=1)}return s};var i=r(6495);function c(){let[e,s]=(0,n.useState)(),[r,l]=(0,n.useState)(),{fileInputRef:c,handleFileChange:d,triggerFileSelect:f}=function(e){let s=(0,n.useRef)(null),r=s=>{var r;let t=null===(r=s.target.files)||void 0===r?void 0:r[0];t&&a.parse(t,{header:!0,skipEmptyLines:!0,complete(s){console.log("result",s.data);let r=s.data,t=u(r),n=o(r);e(t,n)},error(e){console.error("CSV reading error",e)}})},t=()=>{var e;null===(e=s.current)||void 0===e||e.click()};return{fileInputRef:s,handleFileChange:r,triggerFileSelect:t}}((e,r)=>{s(e),l(r)}),b={labels:["1950's","1960's","1970's","1980's","1990's","2000's"],datasets:[{label:"The Number of Users by age group",data:e?Object.values(e):[],backgroundColor:"rgba(75,192,192,0.6)"}]},h={labels:["1","2","3","4"],datasets:[{label:"The Number of Courses use take",data:r?Object.values(r):[],backgroundColor:"rgba(192, 75, 174, 0.6)"}]};return(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:f,children:"Select CSV file"}),(0,t.jsx)("input",{type:"file",accept:".csv",onChange:d,ref:c,style:{display:"none"}}),e&&Object.values(e).some(e=>e>0)&&(0,t.jsx)("div",{style:{width:"600px",marginTop:"2rem"},children:(0,t.jsx)(i.$Q,{data:b})}),r&&Object.values(r).some(e=>e>0)&&(0,t.jsx)("div",{style:{width:"600px",marginTop:"2rem"},children:(0,t.jsx)(i.$Q,{data:h})})]})}function d(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{children:"Chart"}),(0,t.jsx)(c,{})]})}l.kL.register(l.ZL,l.uw,l.f$,l.Dx,l.u,l.De)}},function(e){e.O(0,[196,785,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);